import{_ as n,o as a,c as s,e}from"./app-0a598c04.js";const t={},c=e(`<h1 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration" aria-hidden="true">#</a> Configuration <img src="https://img.shields.io/github/v/release/mcolomerc/cctools" alt="GitHub release"></h1><p><code>cctools</code> commands require a configuration file using <code>--config</code> (yml) with the source cluster connection.</p><h2 id="source-cluster" tabindex="-1"><a class="header-anchor" href="#source-cluster" aria-hidden="true">#</a> Source Cluster</h2><p><code>export</code> and <code>copy</code> commands require a source cluster connection configuration.</p><p><code>source</code> section contains the source connection configuration.</p><p><code>kafka</code> section contains the source Kafka cluster connection configuration.</p><ul><li><code>bootstrapServer</code>: Source Cluster bootstrap server.</li><li><code>clientProps</code>: Kafka client properties map.</li></ul><p>Example with <code>SASL_SSL</code></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">source</span><span class="token punctuation">:</span> 
  <span class="token key atrule">kafka</span><span class="token punctuation">:</span>
    <span class="token key atrule">bootstrapServer</span><span class="token punctuation">:</span> &lt;bootstrap_server<span class="token punctuation">&gt;</span>
    <span class="token key atrule">clientProps</span><span class="token punctuation">:</span>  
      <span class="token punctuation">-</span> <span class="token key atrule">ssl.ca.location</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;path&gt;/cacerts.pem&quot;</span> 
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.mechanisms</span><span class="token punctuation">:</span> PLAIN
      <span class="token punctuation">-</span> <span class="token key atrule">security.protocol</span><span class="token punctuation">:</span> SASL_SSL
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.username</span><span class="token punctuation">:</span> &lt;username<span class="token punctuation">&gt;</span>
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.password</span><span class="token punctuation">:</span> &lt;password<span class="token punctuation">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="destination-cluster" tabindex="-1"><a class="header-anchor" href="#destination-cluster" aria-hidden="true">#</a> Destination Cluster</h2><p>Some commands like <code>copy</code> or <code>import</code>, require a destination cluster connection configuration.</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">destination</span><span class="token punctuation">:</span> 
  <span class="token key atrule">kafka</span><span class="token punctuation">:</span>
    <span class="token key atrule">bootstrapServer</span><span class="token punctuation">:</span> &lt;bootstrap_server<span class="token punctuation">&gt;</span>.confluent.cloud<span class="token punctuation">:</span><span class="token number">9092</span>
    <span class="token key atrule">clientProps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.mechanisms</span><span class="token punctuation">:</span> PLAIN
      <span class="token punctuation">-</span> <span class="token key atrule">security.protocol</span><span class="token punctuation">:</span> SASL_SSL
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.username</span><span class="token punctuation">:</span> &lt;API_KEY<span class="token punctuation">&gt;</span>
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.password</span><span class="token punctuation">:</span> &lt;API_SECRET<span class="token punctuation">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="schema-registry" tabindex="-1"><a class="header-anchor" href="#schema-registry" aria-hidden="true">#</a> Schema Registry</h2><p>Source Schema Registry connection configuration:</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">source</span><span class="token punctuation">:</span>
  <span class="token key atrule">schemaRegistry</span><span class="token punctuation">:</span> 
    <span class="token key atrule">endpointUrl</span><span class="token punctuation">:</span> &lt;Schema_Registry_Url<span class="token punctuation">&gt;</span>
    <span class="token key atrule">credentials</span><span class="token punctuation">:</span> 
      <span class="token key atrule">key</span><span class="token punctuation">:</span> &lt;USER<span class="token punctuation">&gt;</span> <span class="token comment"># or CCloud API_KEY </span>
      <span class="token key atrule">secret</span><span class="token punctuation">:</span> &lt;PASSWORD<span class="token punctuation">&gt;</span> <span class="token comment"># or CCloud API_SECRET   </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tls" tabindex="-1"><a class="header-anchor" href="#tls" aria-hidden="true">#</a> TLS</h3><p><strong>certFile</strong>: Certificate file path</p><p><strong>keyFile</strong>: Key file path</p><p><strong>CAFile</strong>: CA file path</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">source</span><span class="token punctuation">:</span>
  <span class="token key atrule">schemaRegistry</span><span class="token punctuation">:</span> 
    <span class="token key atrule">endpointUrl</span><span class="token punctuation">:</span> &lt;Schema_Registry_Url<span class="token punctuation">&gt;</span> 
    <span class="token key atrule">credentials</span><span class="token punctuation">:</span> 
      <span class="token key atrule">key</span><span class="token punctuation">:</span> &lt;USER<span class="token punctuation">&gt;</span>  
      <span class="token key atrule">secret</span><span class="token punctuation">:</span> &lt;PASSWORD<span class="token punctuation">&gt;</span>  
    <span class="token key atrule">certificates</span><span class="token punctuation">:</span> 
      <span class="token key atrule">certFile</span><span class="token punctuation">:</span> &lt;CERT file path<span class="token punctuation">&gt;</span>  
      <span class="token key atrule">keyFile</span><span class="token punctuation">:</span> &lt;KEY file path<span class="token punctuation">&gt;</span>  
      <span class="token key atrule">CAFile</span><span class="token punctuation">:</span> &lt;CA File path<span class="token punctuation">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="exporters-configuration" tabindex="-1"><a class="header-anchor" href="#exporters-configuration" aria-hidden="true">#</a> Exporters configuration</h2><ul><li><code>output</code> path.</li><li>Exporter configuration: <ul><li>Specific configuration for each exporter (See Exporters)</li><li><code>exclude</code> resources</li></ul></li></ul><h3 id="topics" tabindex="-1"><a class="header-anchor" href="#topics" aria-hidden="true">#</a> Topics</h3><ul><li>Using Topic Exporter Configuration to exclude some topics.</li></ul><p>All topics names containing <code>_confluent</code> will be excluded.</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">export</span><span class="token punctuation">:</span> 
  <span class="token key atrule">topics</span><span class="token punctuation">:</span>
    <span class="token key atrule">exclude</span><span class="token punctuation">:</span> _confluent 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="principals-mapping" tabindex="-1"><a class="header-anchor" href="#principals-mapping" aria-hidden="true">#</a> Principals Mapping</h4><p>All the Topic ACLs where <code>principal: User:test</code> will be created as <code>principal: User:sa-xyroox</code> on the Destination.</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">principals</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">&quot;test&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;sa-xyroox&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="schemas" tabindex="-1"><a class="header-anchor" href="#schemas" aria-hidden="true">#</a> Schemas</h3><p>Configure Subject export: <code>all</code> subject versions or only the <code>latest</code> version.</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">export</span><span class="token punctuation">:</span> 
  <span class="token key atrule">schemas</span><span class="token punctuation">:</span> 
    <span class="token key atrule">version</span><span class="token punctuation">:</span> latest  <span class="token comment"># default: all </span>
    <span class="token key atrule">subjects</span><span class="token punctuation">:</span>
      <span class="token key atrule">version</span><span class="token punctuation">:</span> latest <span class="token comment"># default: all </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="external-resources" tabindex="-1"><a class="header-anchor" href="#external-resources" aria-hidden="true">#</a> External resources</h3><p>Add external Git repositories to the <code>output</code>.</p><p>Provide a map as <code>target_dir</code>: <code>git url</code>.</p><p>The repository will be cloned into <code>output/target_dir</code></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">export</span><span class="token punctuation">:</span>
  <span class="token key atrule">output</span><span class="token punctuation">:</span> output 
  <span class="token key atrule">git</span><span class="token punctuation">:</span>
    <span class="token key atrule">scripts</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/mddunn/ccloud<span class="token punctuation">-</span>migration<span class="token punctuation">-</span>scripts
    <span class="token key atrule">terraform</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/mcolomerc/terraform<span class="token punctuation">-</span>confluent<span class="token punctuation">-</span>topics
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In the example above:</p><ul><li><p>The <code>https://github.com/mddunn/ccloud-migration-scripts</code> repository will be cloned into <code>output/scripts</code></p></li><li><p>The <code>https://github.com/mcolomerc/terraform-confluent-topics</code> repository will be cloned into <code>output/terraform</code></p></li></ul><h3 id="confluent-for-kubernetes" tabindex="-1"><a class="header-anchor" href="#confluent-for-kubernetes" aria-hidden="true">#</a> Confluent For Kubernetes</h3><p>Configuration requires:</p><ul><li><code>namespace</code>: target namespace <code>string</code></li><li><code>kafkarestaclass</code>: Kafka Rest Class name <code>string</code></li><li><code>schemaRegistryClusterRef</code>: Schema Registry cluster ref. <code>string</code> for Schema exporter.</li></ul><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">export</span><span class="token punctuation">:</span>
  <span class="token key atrule">cfk</span><span class="token punctuation">:</span>
    <span class="token key atrule">namespace</span><span class="token punctuation">:</span> confluent  
    <span class="token key atrule">kafkarestclass</span><span class="token punctuation">:</span> kafka 
    <span class="token key atrule">schemaRegistryClusterRef</span><span class="token punctuation">:</span> schemaregistry 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cluster-linking-commands" tabindex="-1"><a class="header-anchor" href="#cluster-linking-commands" aria-hidden="true">#</a> Cluster Linking commands</h3><p>Configuration requires:</p><ul><li><code>name</code>: Cluster Link name <code>string</code></li><li><code>destination</code>: Destination cluster ID <code>string</code></li><li><code>autocreate</code>: Autocreate topics <code>true|false</code></li><li><code>sync</code>: <ul><li><code>offset</code>: Offset sync <code>true|false</code></li><li><code>acl</code>: Acl Sync <code>true|false</code></li></ul></li></ul><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">export</span><span class="token punctuation">:</span>
  <span class="token key atrule">clink</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> &lt;CLUSTER_LINK_NAME<span class="token punctuation">&gt;</span>
    <span class="token key atrule">destination</span><span class="token punctuation">:</span> &lt;DESTINATION_CLUSTER_ID<span class="token punctuation">&gt;</span>
    <span class="token key atrule">autocreate</span><span class="token punctuation">:</span> true <span class="token punctuation">|</span> false
    <span class="token key atrule">sync</span><span class="token punctuation">:</span> 
      <span class="token key atrule">offset</span><span class="token punctuation">:</span> true <span class="token punctuation">|</span> false
      <span class="token key atrule">acl</span><span class="token punctuation">:</span> true <span class="token punctuation">|</span> false
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="terraform-exporter" tabindex="-1"><a class="header-anchor" href="#terraform-exporter" aria-hidden="true">#</a> Terraform exporter</h3><p>Export resources to HCL format (<em>tfvars</em>) in order to be used as Terraform inputs.</p>`,49),l=[c];function o(i,p){return a(),s("div",null,l)}const r=n(t,[["render",o],["__file","index.html.vue"]]);export{r as default};
