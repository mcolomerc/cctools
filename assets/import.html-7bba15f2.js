import{_ as t,r as e,o,c as p,a as n,d as s,b as l,w as c,e as i}from"./app-0a598c04.js";const u={},r=n("h1",{id:"import-topics",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#import-topics","aria-hidden":"true"},"#"),s(" Import Topics")],-1),d=n("p",null,"Import from JSON files all the Topics metadata to a Destination Cluster.",-1),k=i(`<p>Create a <code>config.yaml</code> file:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">touch</span> config.yaml
</code></pre></div><ul><li><p>Add the Destination Cluster connection configuration, the <code>destination</code> tag requires:</p></li><li><p>Cluster: <code>kafka</code> section contains the source Kafka cluster connection configuration.</p><ul><li><code>bootstrapServer</code>: Source Cluster bootstrap server.</li><li><code>clientProps</code>: Kafka client properties map.</li></ul></li></ul><p>Example for SASL_SSL (<em>config.yaml</em>):</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">destination</span><span class="token punctuation">:</span> 
  <span class="token key atrule">kafka</span><span class="token punctuation">:</span>
    <span class="token key atrule">bootstrapServer</span><span class="token punctuation">:</span> &lt;bootstrap_server<span class="token punctuation">&gt;</span>
    <span class="token key atrule">clientProps</span><span class="token punctuation">:</span>  
      <span class="token punctuation">-</span> <span class="token key atrule">ssl.ca.location</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;path&gt;/cacerts.pem&quot;</span> 
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.mechanisms</span><span class="token punctuation">:</span> PLAIN
      <span class="token punctuation">-</span> <span class="token key atrule">security.protocol</span><span class="token punctuation">:</span> SASL_SSL
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.username</span><span class="token punctuation">:</span> &lt;admin_user<span class="token punctuation">&gt;</span>
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.password</span><span class="token punctuation">:</span> &lt;admin_password<span class="token punctuation">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Add the output path for the JSON files. Using exported files. All the Topics metadata will be exported to <code>&lt;export.output.path&gt;/topics/json</code>, one file per Topic. Import uses same <code>export.output.path</code> as default.</li></ul><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">import</span><span class="token punctuation">:</span>
  <span class="token key atrule">source</span><span class="token punctuation">:</span> &lt;path<span class="token punctuation">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Topic JSON file example:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;demo.topic&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;partitions&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
 <span class="token property">&quot;replicationFactor&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
 <span class="token property">&quot;minIsr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;retentionTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;604800000&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;configs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
   <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;confluent.stray.log.max.deletions.per.run&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;72&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
   <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;confluent.stray.log.delete.delay.ms&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;604800000&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ...
 <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;acls&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
   <span class="token property">&quot;principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;User:test&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ALL&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ALLOW&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;resourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TOPIC&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;resourceName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;demo.topic&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;patternType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LITERAL&quot;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Run the command:</li></ul><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>cctools <span class="token function">import</span> topics <span class="token parameter variable">--config</span> config.yaml 
</code></pre></div><ul><li>Check the Destination cluster topic list</li></ul><p>For Confluent Cloud:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>confluent kafka topic list 
</code></pre></div>`,14);function m(v,q){const a=e("RouterLink");return o(),p("div",null,[r,d,n("p",null,[s("See "),l(a,{to:"/commands/import/topics.html"},{default:c(()=>[s("Topic Import")]),_:1}),s(" documentation for more details.")]),k])}const g=t(u,[["render",m],["__file","import.html.vue"]]);export{g as default};
