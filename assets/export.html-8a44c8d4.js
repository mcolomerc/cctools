import{_ as t,r as e,o,c as p,a as s,d as n,b as l,w as c,e as i}from"./app-0a598c04.js";const u={},r=s("h1",{id:"export-topics",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#export-topics","aria-hidden":"true"},"#"),n(" Export Topics")],-1),d=i(`<p>Create a <code>config.yaml</code> file:</p><div class="language-bash" data-ext="sh"><pre class="language-bash"><code><span class="token function">touch</span> config.yaml
</code></pre></div><ul><li><p>Add the Source Cluster connection configuration, the <code>source</code> tag requires:</p></li><li><p>Cluster: <code>kafka</code> section contains the source Kafka cluster connection configuration.</p><ul><li><code>bootstrapServer</code>: Source Cluster bootstrap server.</li><li><code>clientProps</code>: Kafka client properties map.</li></ul></li></ul><p>Example for SASL_SSL (<em>config.yaml</em>):</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">source</span><span class="token punctuation">:</span> 
  <span class="token key atrule">kafka</span><span class="token punctuation">:</span>
    <span class="token key atrule">bootstrapServer</span><span class="token punctuation">:</span> &lt;bootstrap_server<span class="token punctuation">&gt;</span>
    <span class="token key atrule">clientProps</span><span class="token punctuation">:</span>  
      <span class="token punctuation">-</span> <span class="token key atrule">ssl.ca.location</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;path&gt;/cacerts.pem&quot;</span> 
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.mechanisms</span><span class="token punctuation">:</span> PLAIN
      <span class="token punctuation">-</span> <span class="token key atrule">security.protocol</span><span class="token punctuation">:</span> SASL_SSL
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.username</span><span class="token punctuation">:</span> &lt;admin_user<span class="token punctuation">&gt;</span>
      <span class="token punctuation">-</span> <span class="token key atrule">sasl.password</span><span class="token punctuation">:</span> &lt;admin_password<span class="token punctuation">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Add the output path for the JSON files, all the Topics metadata will be exported to <code>&lt;export.output.path&gt;/topics/json</code>, one file per Topic.</li></ul><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">export</span><span class="token punctuation">:</span>
  <span class="token key atrule">output</span><span class="token punctuation">:</span> &lt;path<span class="token punctuation">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Filtering Topics. Exclude.</li></ul><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">export</span><span class="token punctuation">:</span>
  <span class="token key atrule">output</span><span class="token punctuation">:</span> &lt;path<span class="token punctuation">&gt;</span>
  <span class="token key atrule">topics</span><span class="token punctuation">:</span>
    <span class="token key atrule">exclude</span><span class="token punctuation">:</span> &lt;topic_name_substring<span class="token punctuation">&gt;</span>  <span class="token comment">#_confluent</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Run the command:</li></ul><div class="language-bash" data-ext="sh"><pre class="language-bash"><code>cctools <span class="token builtin class-name">export</span> topics <span class="token parameter variable">--config</span> config.yaml <span class="token parameter variable">--output</span> json
</code></pre></div><ul><li>Output folder. One JSON file per Topic exported.</li></ul><p>JSON Topic example:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
 <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;demo.topic&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;partitions&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
 <span class="token property">&quot;replicationFactor&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
 <span class="token property">&quot;minIsr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;retentionTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;604800000&quot;</span><span class="token punctuation">,</span>
 <span class="token property">&quot;configs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
   <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;confluent.stray.log.max.deletions.per.run&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;72&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
   <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;confluent.stray.log.delete.delay.ms&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;604800000&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  ...
 <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;acls&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
   <span class="token property">&quot;principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;User:test&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;operation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ALL&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;permission&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ALLOW&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;resourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TOPIC&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;resourceName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;demo.topic&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;patternType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LITERAL&quot;</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14);function k(v,m){const a=e("RouterLink");return o(),p("div",null,[r,s("p",null,[n("Export to JSON files all the Topics metadata from a Source Cluster. See "),l(a,{to:"/commands/export/topics.html"},{default:c(()=>[n("Topic Exporters")]),_:1}),n(" documentation for using other exporters.")]),d])}const q=t(u,[["render",k],["__file","export.html.vue"]]);export{q as default};
